<script>

var lowestCommonAncestor(root,p,q)
{
  let map={};
  let anc=null;
  
  function check(val)
  {
    if(map[val]!==undefined){
      anc= val;
      return true;
    }else {
      map[val]=val;
      return false;
    }
  }
  
  function visit(node)
  {
    if(node== p || node==q)
    {
      return node.val;
    }else{
      check(node)
      if(node.left){
        visit(node.left);
      }
      if(node.right)
        visit(node.right);
      return;  
    }
  }
  visit(root);
  if(anc==null)return root.val;
  else return anc;
};




</script>